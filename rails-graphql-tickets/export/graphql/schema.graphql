input AuthProviderCredentialsInput {
  email: String!
  password: String!
}

"""
Autogenerated return type of CreateOrder
"""
type CreateOrderPayload {
  receipt: Receipt!
}

"""
Autogenerated return type of CreatePerformance
"""
type CreatePerformancePayload {
  performance: Performance!
  production: Production!
}

type Customer {
  email: String
  id: ID!
  name: String
  receipts: [Receipt!]
  user: User
}

"""
An ISO 8601-encoded datetime
"""
scalar ISO8601DateTime

type Mutation {
  createOrder: CreateOrderPayload
  createPerformance(performance: PerformanceInput!, productionId: ID!): CreatePerformancePayload
  signInUser(credentials: AuthProviderCredentialsInput): SignInUserPayload
  updateOrder(action: String!, performanceId: ID!, receiptId: ID!, ticketTypeId: ID!): UpdateOrderPayload
}

type Organization {
  createdAt: ISO8601DateTime!
  id: ID!
  name: String
  productions: [Production!]!
  updatedAt: ISO8601DateTime!
  users: [User!]!
}

type Performance {
  createdAt: ISO8601DateTime!
  doorsOpenAt: ISO8601DateTime
  id: ID!
  name: String
  productionId: Int!
  showtimeAt: ISO8601DateTime
  updatedAt: ISO8601DateTime!
}

input PerformanceInput {
  doorsOpenAt: ISO8601DateTime
  name: String
  showtimeAt: ISO8601DateTime!
}

type PerformanceOrderForm {
  organization: Organization!
  performance: Performance!
  production: Production!
  ticketTypes: [TicketType!]!
}

type Production {
  createdAt: ISO8601DateTime!
  id: ID!
  organizationId: Int!
  performanceCount: Int!

  """
  Performances of the given production
  """
  performances: [Performance!]
  runtimeMinutes: Int
  ticketTypes: [TicketType!]
  title: String
  updatedAt: ISO8601DateTime!
}

type Query {
  """
  Current user
  """
  currentUser: User

  """
  A single organization
  """
  organization(id: ID!): Organization!

  """
  All organizations
  """
  organizations: [Organization!]

  """
  Performance order form fields
  """
  performanceOrderForm(id: ID!): PerformanceOrderForm

  """
  A single production
  """
  production(id: ID!, organizationId: ID!): Production!
}

type Receipt {
  aasmState: String!
  customer: Customer!
  id: ID!
}

"""
Autogenerated return type of SignInUser
"""
type SignInUserPayload {
  token: String
  user: User
}

type TicketType {
  createdAt: ISO8601DateTime!
  id: ID!
  name: String!
  priceInCents: Int!
  productionId: Int!
  updatedAt: ISO8601DateTime!
}

"""
Autogenerated return type of UpdateOrder
"""
type UpdateOrderPayload {
  receipt: Receipt!
}

type User {
  createdAt: ISO8601DateTime!
  email: String
  id: ID!
  name: String
  organizationId: Int!
  updatedAt: ISO8601DateTime!
}
